-- 기존 테이블들 삭제
drop table cart purge;
drop table notice purge;
drop table qa purge;
drop table orderinfo purge;
drop table goods purge;
drop table member purge;




-- 기존 시퀀스들 삭제
drop sequence cart_seq;
drop sequence orderInfo_seq;
drop sequence QA_seq;
drop sequence notice_seq;

---상품
   -- vegetable, fruit, seafood, meat, noodle
   create table goods
   ( gCode varchar2(20) PRIMARY KEY, -- 상품코드
     gCategory varchar2(20) not null,   -- 상품 카테고리
     gName varchar2(50) not null,   -- 상품 이름   (본래 식재료 이름만 표기 원산지, 생산자 제외)
     gPrice NUMBER(6) not null,     -- 상품 가격
     gImage varchar2(20) not null,   -- 상품 이미지
     gUnit varchar2(20),     -- 판매단위 (기재된 것이 없을 경우 NULL)
     gWeight varchar2(20)   -- 중량 (기재된 것이 없을 경우 NULL)
     );

-- goods테이블에 gStock(재고) 항목 추가
ALTER TABLE goods
add gStock NUMBER(20);

-- 기본 재고 1000개씩으로 추가
insert into goods 
  values ('M1',	'Meat', '계란', '7200', 'meat1', '20구', '1200g', 1000);
insert into goods 
  values ('M2',	'Meat', '훈제오리', '2682', 'meat2', '1팩', '150g', 1000);
insert into goods 
  values ('M3',	'Meat', '삼겹살', '12660', 'meat3', '1팩', '600g', 1000);
insert into goods 
  values ('M4',	'Meat', '앞다리 살', '6900', 'meat4', '1팩', '600g', 1000);
insert into goods 
  values ('M5',	'Meat', '소고기 다짐육', '7500', 'meat5', '1팩', '200g', 1000);
insert into goods 
  values ('M6',	'Meat', '목살', '12660', 'meat6', '1팩', '600g', 1000);
insert into goods 
  values ('M7',	'Meat', '뒷다리 살', '4500', 'meat7', '1팩', '600g', 1000);
insert into goods 
  values ('M8',	'Meat', '치마살', '9730', 'meat8', '1팩', '300g', 1000);
insert into goods 
  values ('M9',	'Meat', '대패 삼겹살', '11900', 'meat9', '1팩', '1kg', 1000);
insert into goods 
  values ('M10', 'Meat', '닭볶음탕용 닭', '5800', 'meat10', '1팩', '1kg', 1000);
insert into goods 
  values ('M11', 'Meat', '소고기 국거리용', '8100', 'meat11', '1팩', '200g', 1000);
insert into goods 
  values ('M12', 'Meat', '닭 다리살', '12800', 'meat12', '1팩', '1kg', 1000);
insert into goods 
  values ('M13', 'Meat', '메추리 알', '4800', 'meat13', '1팩', '450g', 1000);
insert into goods 
  values ('M14', 'Meat', '차돌박이', '9500', 'meat14', '1팩', '150g', 1000);
insert into goods 
  values ('M15', 'Meat', '등심 돈까스', '12900', 'meat15', '1팩', '1kg', 1000);
insert into goods 
  values ('M16', 'Meat', '돼지고기 다짐육', '3600', 'meat16', '1팩', '300g', 1000);
insert into goods 
  values ('M17', 'Meat', '소고기 등심', '11500', 'meat17', '1팩', '250g', 1000);
insert into goods 
  values ('M18', 'Meat', '채끝살', '16000', 'meat18', '1팩', '250g', 1000);
insert into goods 
  values ('M19', 'Meat', '돼지고기 등심', '5400', 'meat19', '1팩', '300g', 1000);
insert into goods 
  values ('M20', 'Meat', '우삼겹', '6930', 'meat20', '1팩', '500g', 1000);
insert into goods 
  values ('M21', 'Meat', '생닭', '3500', 'meat21', '1팩', '500g', 1000);
insert into goods 
  values ('M22', 'Meat', '닭 안심살', '6900', 'meat22', '1팩', '500g', 1000);
insert into goods 
  values ('M23', 'Meat', '닭 가슴살', '12900', 'meat23', '1팩', '2kg', 1000);
insert into goods 
  values ('M24', 'Meat', '소고기 우둔살', '8910', 'meat24', '1팩', '200g', 1000);
insert into goods 
  values ('M25', 'Meat', '닭 윗날개', '8600', 'meat25', '1팩', '500g', 1000);
insert into goods 
  values ('M26', 'Meat', '항정살', '15700', 'meat26', '1팩', '300g', 1000);
insert into goods 
  values ('M27', 'Meat', '꽃등심', '29900', 'meat27', '1팩', '200g', 1000);
insert into goods 
  values ('M28', 'Meat', '양갈비', '15000', 'meat28', '1팩', '300g', 1000);
insert into goods 
  values ('M29', 'Meat', '함박 스테이크', '13000', 'meat29', '2팩', '600g', 1000);
insert into goods 
  values ('M30', 'Meat', '소고기 안심', '15900', 'meat30', '1팩', '200g', 1000);
  
-- 면, 양념, 오일 DB
insert into goods values ('N1', 'Noodle', '토마토 소스', 2500, 'noodle1', '1개', '500g', 1000);
insert into goods values ('N2', 'Noodle', '바질페스토', 5980, 'noodle2', '1병', '230g', 1000);
insert into goods values ('N3', 'Noodle', '스파게티', 2450, 'noodle3', '1봉', '500g', 1000);
insert into goods values ('N4', 'Noodle', '마요네즈', 4790, 'noodle4', '1병', '295ml', 1000);
insert into goods values ('N5', 'Noodle', '토마토 케첩', 2580, 'noodle5', '1통', '280g', 1000);
insert into goods values ('N6', 'Noodle', '오리엔탈 드레싱', 3250, 'noodle6', '1병', '270g', 1000);
insert into goods values ('N7', 'Noodle', '샤브샤브 육수', 2650, 'noodle7', '1팩', '200g', 1000);
insert into goods values ('N8', 'Noodle', '카레 분말', 3280, 'noodle8', '1봉', '100g', 1000);
insert into goods values ('N9', 'Noodle', '들기름', 14980, 'noodle9', '1병', '320ml', 1000);
insert into goods values ('N10', 'Noodle', '참기름', 7980, 'noodle10', '1캔', '350ml', 1000);
insert into goods values ('N11', 'Noodle', '메밀면', 4300, 'noodle11', '1봉', '400g', 1000);
insert into goods values ('N12', 'Noodle', '소면', 3150, 'noodle12', '1봉', '900g', 1000);
insert into goods values ('N13', 'Noodle', '우동사리면', 1100, 'noodle13', '1봉', '210g', 1000);
insert into goods values ('N14', 'Noodle', '생칼국수', 2480, 'noodle14', '1봉', '320g', 1000);
insert into goods values ('N15', 'Noodle', '올리브 오일', 7980, 'noodle15', '1병', '500ml', 1000);
insert into goods values ('N16', 'Noodle', '고춧가루', 9800, 'noodle16', '1봉', '250g', 1000);
insert into goods values ('N17', 'Noodle', '소금', 4800, 'noodle17', '1봉', '500g', 1000);
insert into goods values ('N18', 'Noodle', '설탕', 2070, 'noodle18', '1팩', '1kg', 1000);
insert into goods values ('N19', 'Noodle', '멸치육수', 3500, 'noodle19', '1팩', '1000ml', 1000);
insert into goods values ('N20', 'Noodle', '진간장', 5000, 'noodle20', '1통', '840ml', 1000);
insert into goods values ('N21', 'Noodle', '돈까스 소스', 3280, 'noodle21', '1병', '455g', 1000);
insert into goods values ('N22', 'Noodle', '굴소스', 3900, 'noodle22', '1병', '725g', 1000);
insert into goods values ('N23', 'Noodle', '당면', 3980, 'noodle23', '1봉', '300g', 1000);
insert into goods values ('N24', 'Noodle', '식초', 2700, 'noodle24', '1병', '500ml', 1000);
insert into goods values ('N25', 'Noodle', '다진마늘', 4900, 'noodle25', '1개', '150g', 1000);
insert into goods values ('N26', 'Noodle', '라면사리', 1580, 'noodle26', '1봉', '110gx5개입', 1000);
insert into goods values ('N27', 'Noodle', '부침가루', 2980, 'noodle27', '1팩', '1kg', 1000);
insert into goods values ('N28', 'Noodle', '고추장', 9000, 'noodle28', '1개', '1kg', 1000);
insert into goods values ('N29', 'Noodle', '된장', 2050, 'noodle29', '1개', '500g', 1000);
insert into goods values ('N30', 'Noodle', '올리고당', 2800, 'noodle30', '1병', '700g', 1000);
insert into goods values ('N31', 'Noodle', '식용유', 7510, 'noodle31', '1병', '1.8L', 1000);
insert into goods values ('N32', 'Noodle', '볶음 참깨', 3200, 'noodle32', '1병', '120g', 1000);
insert into goods values ('N33', 'Noodle', '순후추', 3340, 'noodle33', '1캔', '50g', 1000);  



-- 채소
insert into goods values ('V1',	'Vegetable', '애호박', '1480', 'veg1', '1개', NULL, 1000);
insert into goods values ('V2',	'Vegetable', '팽이버섯', '1160', 'veg2', '1봉', '2입', 1000);
insert into goods values ('V3',	'Vegetable', '참타리 버섯', '1050', 'veg3', '1개', '200g', 1000);
insert into goods values ('V4',	'Vegetable', '무', '1450', 'veg4', '1통', '800g 이상', 1000);
insert into goods values ('V5',	'Vegetable', '깻잎', '1090', 'veg5', '1봉', '3속', 1000);
insert into goods values ('V6',	'Vegetable', '깐대파', '2590', 'veg6', '1봉', '500g 내외', 1000);
insert into goods values ('V7',	'Vegetable', '양파', '3600', 'veg7', '1망', '1.8kg', 1000);
insert into goods values ('V8',	'Vegetable', '깐마늘', '2990', 'veg8', '1봉', '200g', 1000);
insert into goods values ('V9',	'Vegetable', '감자', '6980', 'veg9', '1봉', '1kg', 1000);
insert into goods values ('V10','Vegetable', '새송이버섯', '2000', 'veg10', '1봉', '400g', 1000);
     
insert into goods values ('V11','Vegetable', '다다기오이', '2800', 'veg11', '1봉', '3개입', 1000);
insert into goods values ('V12','Vegetable', '국산 브로콜리', '2120', 'veg12', '1봉', '1송이', 1000);
insert into goods values ('V13','Vegetable', '파프리카', '2480', 'veg13', '1봉', '2입', 1000);
insert into goods values ('V14','Vegetable', '양상추', '2590', 'veg14', '1통', '200g 이상', 1000);
insert into goods values ('V15','Vegetable', '당근', '2990', 'veg15', '1봉지', '500g(2~4개입)', 1000);
insert into goods values ('V16','Vegetable', '대파', '2690', 'veg16', '1봉', '1단/1kg 이상', 1000);
insert into goods values ('V17','Vegetable', '알배기 배추', '3990', 'veg17', '1통', NULL, 1000);
insert into goods values ('V18','Vegetable', '양배추', '3790', 'veg18', '1통', '900g 내외', 1000);
insert into goods values ('V19','Vegetable', '부추', '2220', 'veg19', '1봉', '200g', 1000);
insert into goods values ('V20','Vegetable', '청양고추', '2280', 'veg20', '1봉', '200g', 1000);
     
insert into goods values ('V21','Vegetable', '청상추', '1480', 'veg21', '1봉', '150g', 1000);
insert into goods values ('V22','Vegetable', '미나리', '4990', 'veg22', '1봉', '200g', 1000);
insert into goods values ('V23','Vegetable', '시금치', '2190', 'veg23', '1봉지', '200g', 1000);
insert into goods values ('V24','Vegetable', '샐러리', '2690', 'veg24', '1봉', '500g', 1000);
insert into goods values ('V25','Vegetable', '가지', '2180', 'veg25', '1봉', '2입', 1000);
insert into goods values ('V26','Vegetable', '밤고구마', '4780', 'veg26', '1봉', '800g', 1000);
insert into goods values ('V27','Vegetable', '양송이버섯', '3690', 'veg27', '1팩', '6~9입', 1000);
insert into goods values ('V28','Vegetable', '숙주나물', '1990', 'veg28', '1봉', '200g', 1000);
insert into goods values ('V29','Vegetable', '로메인', '2990', 'veg29', '1봉', '200g', 1000);
insert into goods values ('V30','Vegetable', '콩나물', '2600', 'veg30', '1팩', '340', 1000);

-- 과일
INSERT INTO goods VALUES 
('F1','Fruit','바나나','2980','fruit1','1봉','1kg', 1000);
INSERT INTO goods VALUES 
('F2', 'Fruit','참외','14900','fruit2','1봉','1.5kg', 1000);
INSERT INTO goods VALUES 
('F3','Fruit','샤인마토','7980','fruit3','1팩','500g', 1000);
INSERT INTO goods VALUES 
('F4','Fruit','방울토마토','4179','fruit4','1팩','500g', 1000);
INSERT INTO goods VALUES 
('F5','Fruit','아보카도','3240','fruit5','1개','200g', 1000);
INSERT INTO goods VALUES 
('F6','Fruit','오렌지','7600','fruit6','1봉','1kg', 1000);
INSERT INTO goods VALUES 
('F7','Fruit','블루베리','8091','fruit7','1팩','100g', 1000);
INSERT INTO goods VALUES 
('F8','Fruit','청송사과','7990','fruit8','1봉','1kg', 1000);
INSERT INTO goods VALUES 
('F9','Fruit','애플청포도','9996','fruit9','1팩','500g', 1000);
INSERT INTO goods VALUES 
('F10','Fruit','완숙토마토','8557','fruit10','1팩','2kg', 1000);
INSERT INTO goods VALUES 
('F11','Fruit','사파이어포도','8910','fruit11','1팩','500g', 1000);
INSERT INTO goods VALUES 
('F12','Fruit','신고배','7900','fruit12','1봉','1kg', 1000);
INSERT INTO goods VALUES 
('F13','Fruit','냉동블루베리','8055','fruit13','1팩','1kg', 1000);
INSERT INTO goods VALUES 
('F14','Fruit','골드키위','9900','fruit14','1봉','800g', 1000);
INSERT INTO goods VALUES 
('F15','Fruit','컷팅파인애플','9800','fruit15','1팩','1kg', 1000);
INSERT INTO goods VALUES 
('F16','Fruit','혼합포도','11430','fruit16','1팩','700g', 1000);
INSERT INTO goods VALUES 
('F17','Fruit','씨없는청포도','6840','fruit17','1팩','500g', 1000);
INSERT INTO goods VALUES 
('F18','Fruit','자몽','10900','fruit18','1봉','1.8kg', 1000);
INSERT INTO goods VALUES 
('F19','Fruit','성주참외','12900','fruit19','1봉','1.1kg', 1000);
INSERT INTO goods VALUES 
('F20','Fruit','파인애플청크','5480','fruit20','1팩','400g', 1000);
INSERT INTO goods VALUES 
('F21','Fruit','카랴향','14800','fruit21','1팩','1.4kg', 1000);
INSERT INTO goods VALUES 
('F22','Fruit','무지개망고','10900','fruit22','1팩','650g', 1000);
INSERT INTO goods VALUES 
('F23','Fruit','냉동애플망고','7225','fruit23','1봉','1kg', 1000);
INSERT INTO goods VALUES 
('F24','Fruit','세지멜론','16900','fruit24','1통','1.2kg', 1000);
INSERT INTO goods VALUES 
('F25','Fruit','컷팅과일','2490','fruit25','1팩','150g', 1000);
INSERT INTO goods VALUES 
('F26','Fruit','팬시레몬','2565','fruit26','1팩','300g', 1000);
INSERT INTO goods VALUES 
('F27','Fruit','냉동딸기','7110','fruit27','1팩','1kg', 1000);
INSERT INTO goods VALUES 
('F28','Fruit','적용과','3960','fruit28','1팩','450g', 1000);

-- 해산물
INSERT INTO GOODS
VALUES ( 'S1', 'Seafood', '고등어', '3900', 'seafood1', '1팩', '250g', 1000 );
INSERT INTO GOODS
VALUES ( 'S2', 'Seafood', '갈치', '11100', 'seafood2', '1팩', '350g', 1000 );
INSERT INTO GOODS
VALUES ( 'S3', 'Seafood', '동태', '5900', 'seafood3', '1팩', '500g', 1000 );
INSERT INTO GOODS
VALUES ( 'S4', 'Seafood', '삼치', '6500', 'seafood4', '1팩', '450g', 1000 );
INSERT INTO GOODS
VALUES ( 'S5', 'Seafood', '장어', '22000', 'seafood5', '1팩', '240g', 1000 );
INSERT INTO GOODS
VALUES ( 'S6', 'Seafood', '아귀', '16900', 'seafood6', '1팩', '1000g', 1000 );
INSERT INTO GOODS
VALUES ( 'S7', 'Seafood', '대구', '11997', 'seafood7', '1팩', '500g', 1000 );
INSERT INTO GOODS
VALUES ( 'S8', 'Seafood', '도다리', '16900', 'seafood8', '1마리', '400g', 1000 );
INSERT INTO GOODS
VALUES ( 'S9', 'Seafood', '가자미', '6500', 'seafood9', '1팩', '350g', 1000 );
INSERT INTO GOODS
VALUES ( 'S10', 'Seafood', '병어', '9990', 'seafood10', '1팩', '200g', 1000 );
INSERT INTO GOODS
VALUES ( 'S11', 'Seafood', '연어', '22900', 'seafood11', '1팩', '400g', 1000 );
INSERT INTO GOODS
VALUES ( 'S12', 'Seafood', '오징어', '12900', 'seafood12', '1팩', '400g', 1000 );
INSERT INTO GOODS
VALUES ( 'S13', 'Seafood', '낙지', '19900', 'seafood13', '1팩', '240g', 1000 );
INSERT INTO GOODS
VALUES ( 'S14', 'Seafood', '쭈꾸미', '19710', 'seafood14', '1팩', '500g', 1000 );
INSERT INTO GOODS
VALUES ( 'S15', 'Seafood', '문어', '22500', 'seafood15', '1마리', '500g', 1000 );
INSERT INTO GOODS
VALUES ( 'S16', 'Seafood', '바지락', '7500', 'seafood16', '1팩', '200g', 1000 );
INSERT INTO GOODS
VALUES ( 'S17', 'Seafood', '굴', '4500', 'seafood17', '1팩', '200g', 1000 );
INSERT INTO GOODS
VALUES ( 'S18', 'Seafood', '꼬막', '8900', 'seafood18', '1팩', '1000g', 1000 );
INSERT INTO GOODS
VALUES ( 'S19', 'Seafood', '전복', '25000', 'seafood19', '1팩', '200g', 1000 );
INSERT INTO GOODS
VALUES ( 'S20', 'Seafood', '멍게', '9160', 'seafood20', '1팩', '260g', 1000 );
INSERT INTO GOODS
VALUES ( 'S21', 'Seafood', '해삼', '11439', 'seafood21', '1팩', '300g', 1000 );
INSERT INTO GOODS
VALUES ( 'S22', 'Seafood', '명태알', '6500', 'seafood22', '1팩', '250g', 1000 );
INSERT INTO GOODS
VALUES ( 'S23', 'Seafood', '꽃게', '59900', 'seafood23', '1팩', '950g', 1000 );
INSERT INTO GOODS
VALUES ( 'S24', 'Seafood', '새우', '9900', 'seafood24', '1팩', '300g', 1000 );
INSERT INTO GOODS
VALUES ( 'S25', 'Seafood', '새우살', '6640', 'seafood25', '1팩', '200g', 1000 );
INSERT INTO GOODS
VALUES ( 'S26', 'Seafood', '우렁', '5600', 'seafood26', '1팩', '180g', 1000 );
INSERT INTO GOODS
VALUES ( 'S27', 'Seafood', '황태', '5500', 'seafood27', '1팩', '280g', 1000 );
INSERT INTO GOODS
VALUES ( 'S28', 'Seafood', '멸치', '9900', 'seafood28', '1팩', '600g', 1000 );
INSERT INTO GOODS
VALUES ( 'S29', 'Seafood', '미역', '8900', 'seafood29', '1팩', '130g', 1000 );
INSERT INTO GOODS
VALUES ( 'S30', 'Seafood', '다시마', '6900', 'seafood30', '1팩', '200g', 1000 );

-- cart 테이블 생성
create table cart
(  num NUMBER(6) PRIMARY KEY,
    userid VARCHAR2(10),
    gCode varchar2(20) not null,
    gName varchar2(50) not null,
    gPrice NUMBER(6) not null,
    gAmount NUMBER(2) not null,
    gImage varchar2(20) not null
);   
  
   
create sequence cart_seq;

-- Member table 생성
create table member
(
  userid varchar2(10) primary key,
  passwd varchar2(10) not null,
  username varchar2(10) not null,
  post varchar2(6) not null,
  addr1 varchar2(500) not null,
  addr2 varchar2(500) not null,
  phone1 varchar2(3) not null,
  phone2 varchar2(4) not null,
  phone3 varchar2(4) not null,
  email1 varchar2(20) not null,
  email2 varchar2(20) not null
);

-- orderInfo 테이블 생성
create table orderInfo
  (  num NUMBER(6) PRIMARY KEY,
     userid VARCHAR2(10),
     gCode varchar2(20) not null,
     gName varchar2(50) not null,
     gPrice NUMBER(6) not null,
     gAmount NUMBER(2) not null,
     gImage varchar2(20) not null,
     orderName VARCHAR2(10) NOT NULL,
     post VARCHAR2(5) NOT NULL,
     addr1 VARCHAR2(500) NOT NULL,
     addr2 VARCHAR2(500) NOT NULL,
     phone VARCHAR2(11) NOT NULL,
     payMethod VARCHAR2(10) NOT NULL,
     orderDay DATE  DEFAULT SYSDATE
  );   
  alter table orderInfo
  add CONSTRAINT orderInfo_userid_fk FOREIGN KEY(userid)
   REFERENCES member(userid) ON DELETE CASCADE;
   
   
  alter table orderInfo
  add CONSTRAINT orderInfo_gCode_fk FOREIGN KEY(gCode)
   REFERENCES goods(gCode) ON DELETE CASCADE; 
   
   create sequence orderInfo_seq;
   
-- 데이터형식 수정
ALTER TABLE orderInfo
MODIFY ( paymethod VARCHAR2(30) );


-- Notice(공지사항) 테이블 생성
create table Notice
(  num NUMBER(6) PRIMARY KEY,
    writeDay DATE  DEFAULT SYSDATE,
    title varchar2(500),
    contents varchar2(3900)
);   
-- 공지사항 게시판 번호 시퀀스 생성
create sequence notice_seq;

-- QA(1:1문의) 테이블 생성
create table QA
(  num NUMBER(6) PRIMARY KEY,
    category varchar2(20),
    writeDay DATE  DEFAULT SYSDATE,
    title varchar2(500),
    contents varchar2(3900),
    userid  varchar2(20)
);   
   
alter table QA
add CONSTRAINT QA_userid_fk FOREIGN KEY(userid)
REFERENCES member(userid) ON DELETE CASCADE;

-- 1:1문의 게시판 번호 시퀀스 생성
create sequence QA_seq;

-- QA(1:1문의) 테이블 답변 속성 추가
ALTER TABLE QA
add answer VARCHAR(3900);


-- cart에 userid FK 추가
alter table cart
add CONSTRAINT cart_userid_fk FOREIGN KEY(userid)
REFERENCES member(userid) ON DELETE CASCADE;
   
alter table cart
add CONSTRAINT cart_gCode_fk FOREIGN KEY(gCode)
REFERENCES goods(gCode) ON DELETE CASCADE;  
